@model List<Ecommerce.Entities.Category>
@{
    ViewBag.Title = "Create";
}

<h2>Create Product</h2>

<form id="createProduct">

    <label>Category</label>

    <!--drop down list for category-->
    <select name="CategoryId"> 

        @foreach (var item in Model)
        {
            <option value="@item.ID">@item.Name</option> // categories will be saved to database based on their id
        }

    </select>

    <br />

    <label>Name</label>
    <input name="Name" />

    <br />

    <label>Description</label>
    <input name="Description" />

    <br />

    <label>Price</label>
    <input name="Price" />

    <button id="saveBtn" type="button">Save</button>

</form>

<script>


    $("#saveBtn").click(function () {


        $.ajax({

            method: "POST", 
            url: "/Product/Create",
            // 'serialize' will get the values for every input field 
            // it will look like this e.g. - Name=p1&Description=None&Price=10.00
            data: $("#createProduct").serialize() 

        })
            .done(function (response) { // the response returns an html with values

                $("#tableDiv").html(response);
                $("#actionContainer").html(""); // empty the form so it ill disapear from the view


            })
            .fail(function (XMLHttpRequest, textStatus, errorThrown) {
                alert("Fail");
            });
    });



</script>